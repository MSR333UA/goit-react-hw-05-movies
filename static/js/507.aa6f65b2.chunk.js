"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[507],{174:function(n,t,e){e.r(t),e.d(t,{MoviesList:function(){return m}});var r,a,u,c,s=e(168),i=e(87),o=e(444),p=o.ZP.ul(r||(r=(0,s.Z)([""]))),f=o.ZP.li(a||(a=(0,s.Z)([""]))),l=(0,o.ZP)(i.Link)(u||(u=(0,s.Z)([""]))),v=o.ZP.p(c||(c=(0,s.Z)([""]))),d=e(689),h=e(184),m=function(n){var t=n.movies,e=(0,d.TH)();return(0,h.jsx)(p,{children:t.map((function(n){var t=n.id,r=n.title;return(0,h.jsx)(f,{children:(0,h.jsx)(l,{to:"/movies/".concat(t),state:{from:e},children:(0,h.jsx)(v,{children:r})})},t)}))})}},390:function(n,t,e){e.d(t,{Bt:function(){return l},Ml:function(){return o},Tg:function(){return i},Y5:function(){return p},wL:function(){return f}});var r=e(861),a=e(757),u=e.n(a),c=e(912),s="416189c391d5281cd1997eac0a39e5bd";c.Z.defaults.baseURL="https://api.themoviedb.org/3";var i=function(){var n=(0,r.Z)(u().mark((function n(){var t;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.Z.get("/trending/movie/day?api_key=".concat(s));case 2:return t=n.sent,n.abrupt("return",t.data.results);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),o=function(){var n=(0,r.Z)(u().mark((function n(t){var e;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.Z.get("/search/movie?api_key=".concat(s,"&language=en-US&page=1&include_adult=false&query=").concat(t));case 2:return e=n.sent,n.abrupt("return",e.data.results);case 4:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),p=function(){var n=(0,r.Z)(u().mark((function n(t){var e;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.Z.get("/movie/".concat(t,"?api_key=").concat(s,"&language=en-US"));case 2:return e=n.sent,n.abrupt("return",e.data);case 4:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),f=function(){var n=(0,r.Z)(u().mark((function n(t){var e;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.Z.get("/movie/".concat(t,"/credits?api_key=").concat(s,"&language=en-US"));case 2:return e=n.sent,n.abrupt("return",e.data.cast);case 4:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),l=function(){var n=(0,r.Z)(u().mark((function n(t){var e;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.Z.get("/movie/".concat(t,"/reviews?api_key=").concat(s,"&language=en-US&page=1"));case 2:return e=n.sent,n.abrupt("return",e.data.results);case 4:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()},507:function(n,t,e){e.r(t),e.d(t,{Movies:function(){return y}});var r,a,u=e(861),c=e(439),s=e(757),i=e.n(s),o=e(168),p=e(444),f=p.ZP.form(r||(r=(0,o.Z)(["\n  display: flex;\n\n  margin-top: 25px;\n  gap: 10px;\n  cursor: pointer;\n"]))),l=p.ZP.input(a||(a=(0,o.Z)(["\n  width: 200px;\n  padding: 5px;\n  border-bottom: 1px grey solid;\n  border-radius: 5px;\n\n  cursor: pointer;\n"]))),v=e(184),d=function(n){var t=n.onSubmit,e=function(n){n.preventDefault();var e=n.target.elements.search.value.trim();if(0===e.length)return alert("Please, enter your request");t(e),n.currentTarget.reset()};return(0,v.jsxs)(f,{onSubmit:function(n){return e(n)},children:[(0,v.jsx)(l,{type:"text",name:"search"}),(0,v.jsx)("button",{type:"submit",children:"Search"})]})},h=e(390),m=e(174).MoviesList,x=e(791),g=x.useEffect,Z=x.useState,w=e(87),b=w.useLocation,k=w.useSearchParams,y=function(){var n=Z([]),t=(0,c.Z)(n,2),e=t[0],r=t[1],a=k(),s=(0,c.Z)(a,2),o=s[0],p=s[1],f=b(),l=o.get("search");g((function(){var n=function(){var n=(0,u.Z)(i().mark((function n(){var t;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,h.Ml)(l).then((function(n){return n})).catch((function(n){return console.log(n)}));case 2:t=n.sent,r(t);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();l&&n()}),[l]);return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(d,{onSubmit:function(n){p(""!==n?{search:n}:{})}}),e&&(0,v.jsx)(m,{movies:e,state:{from:f}})]})}}}]);
//# sourceMappingURL=507.aa6f65b2.chunk.js.map